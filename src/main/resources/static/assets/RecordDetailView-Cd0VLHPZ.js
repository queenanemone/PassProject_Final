import{r as n,j as x,a as r,e as h,b as s,h as i,t as d,F as y,b6 as b,bU as k,k as R,o}from"./index-DBgGMAVP.js";import{H as w}from"./Header-gOfElMZz.js";import{r as u}from"./record-BH2DDIe9.js";import{b as D}from"./board-BdiKinwz.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./index-D-v-8tSO.js";const L={class:"relative flex min-h-screen w-full flex-col"},V={class:"flex-grow"},A={class:"container mx-auto px-4 py-8 max-w-4xl"},B={key:0,class:"text-center py-20"},H={key:1},T={class:"bg-card-dark rounded-xl p-6"},C={class:"text-3xl font-bold text-text-dark mb-4"},E={class:"text-text-secondary-dark mb-6"},M={key:0,class:"mb-6 grid grid-cols-2 gap-4"},N=["src"],F=["innerHTML"],q={__name:"RecordDetailView",setup(I){const m=k(),p=R(),c=n(!1),e=n(null),_=async()=>{c.value=!0;try{const t=m.params.id,[a,l]=await Promise.all([u.getRecord(t),u.getRecordImages(t)]);a.success&&(e.value=a.data,l.success&&(e.value.images=l.data||[]))}catch(t){console.error("여행 기록 로드 오류:",t)}finally{c.value=!1}},f=async()=>{if(confirm("이 여행 기록을 게시판에 공유하시겠습니까?"))try{(await D.createPost({title:e.value.title,content:e.value.content,category:"TRAVEL_RECORD"})).success&&(alert("게시판에 공유되었습니다"),p.push("/board"))}catch(t){console.error("공유 오류:",t),alert("공유 중 오류가 발생했습니다")}},g=t=>t?new Date(t).toLocaleDateString("ko-KR"):"";return x(()=>{_()}),(t,a)=>(o(),r("div",L,[h(w),s("main",V,[s("div",A,[c.value?(o(),r("div",B,[...a[0]||(a[0]=[s("div",{class:"animate-spin h-10 w-10 text-primary mx-auto mb-4"},null,-1),s("p",{class:"text-text-secondary-dark"},"여행 기록을 불러오는 중...",-1)])])):e.value?(o(),r("div",H,[s("article",T,[s("h1",C,d(e.value.title),1),s("p",E,d(g(e.value.createdAt)),1),e.value.images&&e.value.images.length>0?(o(),r("div",M,[(o(!0),r(y,null,b(e.value.images,(l,v)=>(o(),r("img",{key:v,src:l.imageUrl,class:"w-full rounded-lg"},null,8,N))),128))])):i("",!0),s("div",{class:"prose prose-invert max-w-none",innerHTML:e.value.content},null,8,F),s("div",{class:"mt-6 flex gap-4"},[s("button",{onClick:f,class:"px-6 py-2 bg-primary text-white rounded-lg font-bold hover:bg-blue-500"}," 게시판에 공유하기 ")])])])):i("",!0)])])]))}};export{q as default};
