import{r as u,j as y,a as r,e as i,b as s,w as m,l as b,F as k,b6 as h,k as w,o as n,i as x,h as R,n as C,t as d}from"./index-DBgGMAVP.js";import{H as L}from"./Header-gOfElMZz.js";import{r as V}from"./record-BH2DDIe9.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./index-D-v-8tSO.js";const D={class:"relative flex min-h-screen w-full flex-col"},N={class:"flex-grow"},T={class:"container mx-auto px-4 py-8"},B={class:"mb-6 flex items-center justify-between"},H={key:0,class:"text-center py-20"},I={key:1,class:"text-center py-20"},M={key:2,class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"},$=["onClick"],j={class:"p-6"},A={class:"text-xl font-bold text-text-dark mb-2"},E={class:"text-text-secondary-dark text-sm line-clamp-2"},F={class:"text-text-secondary-dark text-xs mt-4"},O={__name:"MyRecordsView",setup(S){const p=w(),a=u(!1),l=u([]),g=async()=>{a.value=!0;try{const t=await V.getUserRecords();t.success&&(l.value=t.data||[])}catch(t){console.error("여행 기록 로드 오류:",t)}finally{a.value=!1}},v=t=>{p.push(`/record/${t}`)},f=t=>{if(!t)return"";const e=document.createElement("div");return e.innerHTML=t,e.textContent||e.innerText||""},_=t=>t?new Date(t).toLocaleDateString("ko-KR"):"";return y(()=>{g()}),(t,e)=>{const c=b("RouterLink");return n(),r("div",D,[i(L),s("main",N,[s("div",T,[s("div",B,[e[1]||(e[1]=s("h1",{class:"text-3xl font-bold text-text-dark"},"나의 여행 기록",-1)),i(c,{to:"/record",class:"px-6 py-3 bg-primary text-white rounded-lg font-bold hover:bg-blue-500"},{default:m(()=>[...e[0]||(e[0]=[x(" 새 기록 작성 ",-1)])]),_:1})]),a.value?(n(),r("div",H,[...e[2]||(e[2]=[s("div",{class:"animate-spin h-10 w-10 text-primary mx-auto mb-4"},null,-1),s("p",{class:"text-text-secondary-dark"},"여행 기록을 불러오는 중...",-1)])])):l.value.length===0?(n(),r("div",I,[e[4]||(e[4]=s("p",{class:"text-text-secondary-dark mb-4"},"아직 여행 기록이 없습니다.",-1)),i(c,{to:"/record",class:"inline-block px-6 py-3 bg-primary text-white rounded-lg font-bold hover:bg-blue-500"},{default:m(()=>[...e[3]||(e[3]=[x(" 첫 기록 작성하기 ",-1)])]),_:1})])):(n(),r("div",M,[(n(!0),r(k,null,h(l.value,o=>(n(),r("div",{key:o.recordId,onClick:U=>v(o.recordId),class:"bg-card-dark rounded-xl overflow-hidden cursor-pointer hover:shadow-lg transition-shadow"},[o.images&&o.images.length>0?(n(),r("div",{key:0,class:"aspect-video bg-cover bg-center",style:C({backgroundImage:`url('${o.images[0].imageUrl}')`})},null,4)):R("",!0),s("div",j,[s("h3",A,d(o.title),1),s("p",E,d(f(o.content)),1),s("p",F,d(_(o.createdAt)),1)])],8,$))),128))]))])])])}}};export{O as default};
