import{r as i,a as f,b as t,h as y,t as C,p as k,q as r,v as s,bH as c,d as v,bE as D,k as R,o as x}from"./index-DBgGMAVP.js";import{p as b}from"./plan-DoNU-Iwt.js";import{_ as I}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./index-D-v-8tSO.js";const P={class:"relative flex h-screen w-full flex-col bg-background-dark"},V={key:0,class:"fixed inset-0 z-50 flex flex-col items-center justify-center bg-black/80 backdrop-blur-sm transition-opacity"},_={class:"flex flex-col items-center gap-4 p-8 rounded-2xl bg-[#1a2035] border border-white/10 shadow-2xl"},A={class:"text-center"},j={class:"text-sm text-gray-400"},M={class:"relative flex h-full grow flex-col items-center justify-center p-4 overflow-y-auto"},U={class:"flex flex-col w-full max-w-xl flex-1 justify-center my-10"},N={class:"flex flex-col items-center gap-6 rounded-xl bg-background-dark/90 backdrop-blur-xl p-6 sm:p-10 shadow-2xl"},S={class:"w-full"},B={class:"flex flex-col sm:flex-row w-full gap-4"},z={class:"flex flex-col flex-1"},E={class:"flex flex-col flex-1"},H={class:"flex items-center gap-4"},L={class:"flex items-end gap-4"},$={class:"flex flex-col flex-1"},q={class:"flex items-center h-12 rounded-lg border border-white/10 bg-white/5"},T=["value"],F={class:"flex items-center pb-3"},G={__name:"NewPlanView",setup(J){const u=R(),n=i(!1),d=i("AIê°€ ìµœì ì˜ ì½”ìŠ¤ë¥¼ ë¶„ì„í•˜ê³  ìˆìŠµë‹ˆë‹¤"),o=i({title:"",departureRegionCode:"",arrivalRegionCode:"",departureDate:"",arrivalDate:"",adultCount:2,hasPet:!1}),m=()=>{o.value.adultCount++},g=()=>{o.value.adultCount>1&&o.value.adultCount--},w=()=>{n.value=!0;const l=["ğŸš… ê¸°ì°¨í‘œ ì •ë³´ë¥¼ ì¡°íšŒí•˜ê³  ìˆìŠµë‹ˆë‹¤...","ğŸ¨ ì¶”ì²œ ìˆ™ì†Œë¥¼ ê²€ìƒ‰ ì¤‘ì…ë‹ˆë‹¤...","ğŸ“¸ ì¸ê¸° ê´€ê´‘ì§€ ë°ì´í„°ë¥¼ ë¶„ì„í•©ë‹ˆë‹¤...","âœ¨ AIê°€ ìµœì ì˜ ì½”ìŠ¤ë¥¼ ë§Œë“œëŠ” ì¤‘ì…ë‹ˆë‹¤..."];let e=0;const a=setInterval(()=>{e<l.length?d.value=l[e++]:clearInterval(a)},1500);return a},p=async()=>{if(!o.value.arrivalRegionCode||!o.value.departureRegionCode||!o.value.departureDate||!o.value.arrivalDate){alert("ì¶œë°œì§€, ë„ì°©ì§€, ì—¬í–‰ ê¸°ê°„ì„ ëª¨ë‘ ì…ë ¥í•´ì£¼ì„¸ìš”");return}if(o.value.arrivalRegionCode===o.value.departureRegionCode){alert("ì¶œë°œì§€ì™€ ë„ì°©ì§€ëŠ” ê°™ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.");return}const l={title:o.value.title.trim()||"ìƒˆ ì—¬í–‰ ê³„íš",arrivalRegionCode:o.value.arrivalRegionCode,departureRegionCode:o.value.departureRegionCode,departureDate:o.value.departureDate,arrivalDate:o.value.arrivalDate,adultCount:o.value.adultCount,hasPet:o.value.hasPet};try{const e=w(),a=await b.createPlan(l);if(a.success)u.push(`/dashboard?planId=${a.data.planId}`);else throw new Error(a.message||"ìƒì„± ì‹¤íŒ¨");clearInterval(e)}catch(e){console.error("ìƒì„± ì˜¤ë¥˜:",e),alert("ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤: "+(e.message||"ì•Œ ìˆ˜ ì—†ëŠ” ì˜¤ë¥˜")),n.value=!1}},h=async()=>{try{n.value=!0;const l=await b.createPlan({});l.success?u.push(`/dashboard?planId=${l.data.planId}`):alert("ë¹ˆ ê³„íš ìƒì„± ì‹¤íŒ¨")}catch(l){console.error("ë¹ˆ ê³„íš ìƒì„± ì˜¤ë¥˜:",l),alert("ë¹ˆ ê³„íš ìƒì„± ì‹¤íŒ¨")}finally{n.value=!1}};return(l,e)=>(x(),f("div",P,[e[18]||(e[18]=t("div",{class:"absolute inset-0 w-full h-full bg-center bg-no-repeat bg-cover filter blur-sm brightness-75",style:{"background-image":'url("https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=1920")'}},null,-1)),n.value?(x(),f("div",V,[t("div",_,[e[7]||(e[7]=t("svg",{class:"animate-spin h-12 w-12 text-primary",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[t("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),t("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1)),t("div",A,[e[6]||(e[6]=t("h3",{class:"text-xl font-bold text-white mb-1"},"ì—¬í–‰ ê³„íš ìƒì„± ì¤‘...",-1)),t("p",j,C(d.value),1)])])])):y("",!0),t("div",M,[t("div",U,[t("div",N,[e[17]||(e[17]=t("div",{class:"flex flex-col items-center gap-2"},[t("h1",{class:"text-white tracking-tight text-3xl font-bold leading-tight text-center"},"ìƒˆë¡œìš´ êµ­ë‚´ ì—¬í–‰"),t("p",{class:"text-white/80 text-base font-normal leading-normal text-center max-w-md"}," ì—¬í–‰ ì •ë³´ë¥¼ ì…ë ¥í•˜ì—¬ AI ì¶”ì²œìœ¼ë¡œ ì±„ì›Œì§„ ì—¬í–‰ ê³„íšì„ ë§Œë“¤ê±°ë‚˜, ë¹ˆ ê³„íšìœ¼ë¡œ ì‹œì‘í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ")],-1)),t("form",{onSubmit:k(p,["prevent"]),class:"w-full flex flex-col gap-6"},[t("div",S,[e[8]||(e[8]=t("label",{class:"text-white text-base font-medium leading-normal pb-2 block"},"ì—¬í–‰ ì œëª©",-1)),r(t("input",{"onUpdate:modelValue":e[0]||(e[0]=a=>o.value.title=a),type:"text",placeholder:"ì˜ˆ: ë¶€ì‚° íë§ ì—¬í–‰ (ë¹„ì›Œë‘ë©´ 'ìƒˆ ì—¬í–‰ ê³„íš'ìœ¼ë¡œ ì €ì¥ë©ë‹ˆë‹¤)",class:"w-full h-12 rounded-lg bg-white/5 border border-white/10 px-4 text-white placeholder:text-gray-500 focus:border-primary focus:ring-2 focus:ring-primary/50 outline-none transition-all"},null,512),[[s,o.value.title]])]),t("div",B,[t("label",z,[e[10]||(e[10]=t("p",{class:"text-white text-base font-medium leading-normal pb-2"},"ì¶œë°œì§€ (ê¸°ì°¨ì—­)",-1)),r(t("select",{"onUpdate:modelValue":e[1]||(e[1]=a=>o.value.departureRegionCode=a),class:"form-select flex w-full rounded-lg text-white focus:outline-0 focus:ring-2 focus:ring-primary/50 border border-white/10 bg-white/5 focus:border-primary h-12 px-4 text-base font-normal appearance-none"},[...e[9]||(e[9]=[v('<option value="" data-v-e34439fc>ì¶œë°œì§€ ì„ íƒ</option><option value="1" data-v-e34439fc>ì„œìš¸</option><option value="6" data-v-e34439fc>ë¶€ì‚°</option><option value="4" data-v-e34439fc>ëŒ€êµ¬</option><option value="2" data-v-e34439fc>ì¸ì²œ</option><option value="5" data-v-e34439fc>ê´‘ì£¼</option><option value="3" data-v-e34439fc>ëŒ€ì „</option><option value="31" data-v-e34439fc>ê²½ê¸° (ìˆ˜ì›)</option><option value="32" data-v-e34439fc>ê°•ì› (ê°•ë¦‰)</option><option value="33" data-v-e34439fc>ì¶©ë¶ (ì²­ì£¼)</option><option value="34" data-v-e34439fc>ì¶©ë‚¨ (ì²œì•ˆì•„ì‚°)</option><option value="35" data-v-e34439fc>ê²½ë¶</option><option value="36" data-v-e34439fc>ê²½ë‚¨</option><option value="37" data-v-e34439fc>ì „ë¶ (ì „ì£¼)</option><option value="38" data-v-e34439fc>ì „ë‚¨</option>',15)])],512),[[c,o.value.departureRegionCode]])]),t("label",E,[e[12]||(e[12]=t("p",{class:"text-white text-base font-medium leading-normal pb-2"},"ë„ì°©ì§€ (ì—¬í–‰ì§€)",-1)),r(t("select",{"onUpdate:modelValue":e[2]||(e[2]=a=>o.value.arrivalRegionCode=a),class:"form-select flex w-full rounded-lg text-white focus:outline-0 focus:ring-2 focus:ring-primary/50 border border-white/10 bg-white/5 focus:border-primary h-12 px-4 text-base font-normal appearance-none"},[...e[11]||(e[11]=[v('<option value="" data-v-e34439fc>ë„ì°©ì§€ ì„ íƒ</option><option value="1" data-v-e34439fc>ì„œìš¸</option><option value="6" data-v-e34439fc>ë¶€ì‚°</option><option value="39" data-v-e34439fc>ì œì£¼</option><option value="32" data-v-e34439fc>ê°•ì›</option><option value="4" data-v-e34439fc>ëŒ€êµ¬</option><option value="2" data-v-e34439fc>ì¸ì²œ</option><option value="3" data-v-e34439fc>ëŒ€ì „</option><option value="35" data-v-e34439fc>ê²½ë¶ (ê²½ì£¼/í¬í•­)</option><option value="36" data-v-e34439fc>ê²½ë‚¨</option><option value="37" data-v-e34439fc>ì „ë¶</option><option value="38" data-v-e34439fc>ì „ë‚¨ (ì—¬ìˆ˜/ëª©í¬)</option>',12)])],512),[[c,o.value.arrivalRegionCode]])])]),t("div",null,[e[14]||(e[14]=t("p",{class:"text-white text-base font-medium leading-normal pb-2"},"ì—¬í–‰ ê¸°ê°„",-1)),t("div",H,[r(t("input",{"onUpdate:modelValue":e[3]||(e[3]=a=>o.value.departureDate=a),class:"form-input flex w-full rounded-lg text-white focus:outline-0 focus:ring-2 focus:ring-primary/50 border border-white/10 bg-white/5 focus:border-primary h-12 px-4 text-base font-normal",type:"date"},null,512),[[s,o.value.departureDate]]),e[13]||(e[13]=t("span",{class:"text-white/60"},"-",-1)),r(t("input",{"onUpdate:modelValue":e[4]||(e[4]=a=>o.value.arrivalDate=a),class:"form-input flex w-full rounded-lg text-white focus:outline-0 focus:ring-2 focus:ring-primary/50 border border-white/10 bg-white/5 focus:border-primary h-12 px-4 text-base font-normal",type:"date"},null,512),[[s,o.value.arrivalDate]])])]),t("div",L,[t("label",$,[e[15]||(e[15]=t("p",{class:"text-white text-base font-medium leading-normal pb-2"},"ì¸ì›",-1)),t("div",q,[t("button",{type:"button",onClick:g,class:"flex items-center justify-center h-full w-12 text-white hover:bg-white/10 rounded-l-lg"}," - "),t("input",{value:o.value.adultCount,class:"w-full h-full text-center bg-transparent border-0 p-0 text-white focus:ring-0",type:"text",readonly:""},null,8,T),t("button",{type:"button",onClick:m,class:"flex items-center justify-center h-full w-12 text-white hover:bg-white/10 rounded-r-lg"}," + ")])]),t("div",F,[r(t("input",{"onUpdate:modelValue":e[5]||(e[5]=a=>o.value.hasPet=a),id:"hasPet",class:"form-checkbox h-5 w-5 rounded bg-white/10 border-white/20 text-primary focus:ring-primary",type:"checkbox"},null,512),[[D,o.value.hasPet]]),e[16]||(e[16]=t("label",{class:"ml-2 text-white text-base font-medium",for:"hasPet"},"ë°˜ë ¤ë™ë¬¼ ë™ë°˜",-1))])]),t("div",{class:"flex flex-col w-full gap-3 pt-4"},[t("button",{type:"button",onClick:p,class:"flex items-center justify-center h-12 px-6 rounded-lg w-full bg-primary text-white text-base font-bold hover:bg-primary/90 transition-colors"}," AI ì¶”ì²œìœ¼ë¡œ ê³„íš ìƒì„± "),t("button",{type:"button",onClick:h,class:"flex items-center justify-center h-12 px-6 rounded-lg w-full bg-white/10 text-white text-base font-medium hover:bg-white/20 transition-colors"}," ê±´ë„ˆë›°ê³  ë¹ˆ ê³„íš ë§Œë“¤ê¸° ")])],32)])])])]))}},X=I(G,[["__scopeId","data-v-e34439fc"]]);export{X as default};
